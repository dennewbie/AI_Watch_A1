\hypertarget{class_real_sense_d435_manager}{}\doxysection{Real\+Sense\+D435\+Manager Class Reference}
\label{class_real_sense_d435_manager}\index{RealSenseD435Manager@{RealSenseD435Manager}}


{\ttfamily \#include $<$Real\+Sense\+Manager.\+hpp$>$}

Inheritance diagram for Real\+Sense\+D435\+Manager\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{class_real_sense_d435_manager}
\end{center}
\end{figure}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{class_real_sense_d435_manager_a6bfda5201144b0f6cce703c954bc19ad}{start\+Environment}} (rs2\+::pipeline \&pipeline\+Stream, struct rs2\+\_\+intrinsics \&\mbox{\hyperlink{class_real_sense_manager_ab876bfaffd8a23924ff182573e900cda}{color\+\_\+intrin}}, float $\ast$scale, unsigned short int resX, unsigned short int resY, bool first\+Boot) override
\begin{DoxyCompactList}\small\item\em This method is useful to invoke at the boot of the program where we want to initialize the different mangers, start the camera and set up the related environment. This method is specific for D435 Intel Real\+Sense camera. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_real_sense_d435_manager_af76ab10aea97be2fef218242a34ea84a}{get\+Video\+Frames\+RS}} (unsigned int user\+\_\+n\+Frame, rs2\+::pipeline \&pipeline\+Stream, rs2\+::depth\+\_\+frame \&depth\+Frames, rs2\+::frame \&color\+Frames, rs2\+::frame \&colorized\+Depth\+Frames) override
\begin{DoxyCompactList}\small\item\em Get user\+\_\+n\+Frame video frames from the pipeline by applying a specific scaling factor. This method is specific for D435 Intel Real\+Sense camera. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Additional Inherited Members}


\doxysubsection{Detailed Description}


Definition at line \mbox{\hyperlink{_real_sense_manager_8hpp_source_l00172}{172}} of file \mbox{\hyperlink{_real_sense_manager_8hpp_source}{Real\+Sense\+Manager.\+hpp}}.



\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{class_real_sense_d435_manager_af76ab10aea97be2fef218242a34ea84a}\label{class_real_sense_d435_manager_af76ab10aea97be2fef218242a34ea84a}} 
\index{RealSenseD435Manager@{RealSenseD435Manager}!getVideoFramesRS@{getVideoFramesRS}}
\index{getVideoFramesRS@{getVideoFramesRS}!RealSenseD435Manager@{RealSenseD435Manager}}
\doxysubsubsection{\texorpdfstring{getVideoFramesRS()}{getVideoFramesRS()}}
{\footnotesize\ttfamily void Real\+Sense\+D435\+Manager\+::get\+Video\+Frames\+RS (\begin{DoxyParamCaption}\item[{unsigned int}]{user\+\_\+n\+Frame,  }\item[{rs2\+::pipeline \&}]{pipeline\+Stream,  }\item[{rs2\+::depth\+\_\+frame \&}]{depth\+Frames,  }\item[{rs2\+::frame \&}]{color\+Frames,  }\item[{rs2\+::frame \&}]{colorized\+Depth\+Frames }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Get user\+\_\+n\+Frame video frames from the pipeline by applying a specific scaling factor. This method is specific for D435 Intel Real\+Sense camera. 


\begin{DoxyParams}{Parameters}
{\em user\+\_\+n\+Frame} & frame\textquotesingle{}s number to capture according to user choice. \\
\hline
{\em pipeline\+Stream} & The pipeline simplifies the user interaction with the device and computer vision processing modules. The class abstracts the camera configuration and streaming, and the vision modules triggering and threading. It lets the application focus on the computer vision output of the modules, or the device output data. The pipeline can manage computer vision modules, which are implemented as a processing block. The pipeline is the consumer of the processing block interface, while the application consumes the computer vision interface. \\
\hline
{\em depth\+Frame} & Reference to depth frame object that will be captured. \\
\hline
{\em color\+Frame} & Reference to color frame object that will be captured. \\
\hline
{\em colorized\+Depth\+Frame} & Reference to colorized depth frame object that will be captured. \\
\hline
\end{DoxyParams}
\begin{DoxySeeAlso}{See also}
\href{https://dev.intelrealsense.com/docs/docs-get-started}{\texttt{ https\+://dev.\+intelrealsense.\+com/docs/docs-\/get-\/started}} 

get\+Video\+Frames\+CV(unsigned int user\+\_\+n\+Frame, rs2\+::pipeline \& pipeline\+Stream, float scale) 

get\+Video\+Frames (unsigned int user\+\_\+n\+Frame, rs2\+::pipeline \& pipeline\+Stream, float scale) 
\end{DoxySeeAlso}


Implements \mbox{\hyperlink{class_real_sense_manager_a99e6a8fd7ce5b9feb5a3ffc91a5a5b0f}{Real\+Sense\+Manager}}.



Definition at line \mbox{\hyperlink{_real_sense_d435_manager_8cpp_source_l00043}{43}} of file \mbox{\hyperlink{_real_sense_d435_manager_8cpp_source}{Real\+Sense\+D435\+Manager.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00043                                                                                                                                                                                            \{}
\DoxyCodeLine{00044     rs2::colorizer colorMap;}
\DoxyCodeLine{00045     rs2::spatial\_filter spatialFilter;}
\DoxyCodeLine{00046     }
\DoxyCodeLine{00047     \textcolor{comment}{// Capture frames and apply post-\/processing}}
\DoxyCodeLine{00048     rs2::frameset streamData = pipelineStream.wait\_for\_frames(), alignedStreamData = \mbox{\hyperlink{class_real_sense_manager_acff6020a0a3efe31b637d6dc5b341dd7}{RealSenseManager::get\_align}}().process(streamData);}
\DoxyCodeLine{00049     depthFrame = alignedStreamData.get\_depth\_frame();}
\DoxyCodeLine{00050     spatialFilter.set\_option(RS2\_OPTION\_HOLES\_FILL, 1);}
\DoxyCodeLine{00051     depthFrame = spatialFilter.process(depthFrame);}
\DoxyCodeLine{00052     }
\DoxyCodeLine{00053     colorFrame = alignedStreamData.get\_color\_frame();}
\DoxyCodeLine{00054     colorizedDepthFrame = depthFrame.apply\_filter(colorMap);}
\DoxyCodeLine{00055     \mbox{\hyperlink{class_real_sense_manager_a024d711ab0bfee1d954f7bd3a83b197f}{RealSenseManager::setFrameID}}(\mbox{\hyperlink{class_real_sense_manager_aac01bf5b0fe977a03ff6ab9fa2bbf06f}{RealSenseD435Manager::getFrameID}}() + 1);}
\DoxyCodeLine{00056 \} \textcolor{keywordflow}{catch} (\textcolor{keyword}{const} rs2::error \& e)\{}
\DoxyCodeLine{00057     std::cerr << \textcolor{stringliteral}{"{}RealSense error calling "{}} << e.get\_failed\_function() << \textcolor{stringliteral}{"{}("{}} << e.get\_failed\_args() << \textcolor{stringliteral}{"{}):\(\backslash\)n   "{}} << e.what() << std::endl;}
\DoxyCodeLine{00058     CV\_Error(\mbox{\hyperlink{constants_8hpp_ae4c7c146bcc762eadc9e87a62bd0924e}{RS\_CAMERA\_ERROR}}, \mbox{\hyperlink{constants_8hpp_a60f7f9c807b54759e94af5e875ab3e56}{RS\_CAMERA\_SCOPE}});}
\DoxyCodeLine{00059 \} \textcolor{keywordflow}{catch} (\textcolor{keyword}{const} std::exception \& e) \{}
\DoxyCodeLine{00060     std::cerr << e.what() << std::endl;}
\DoxyCodeLine{00061     CV\_Error(\mbox{\hyperlink{constants_8hpp_ae4c7c146bcc762eadc9e87a62bd0924e}{RS\_CAMERA\_ERROR}}, \mbox{\hyperlink{constants_8hpp_a60f7f9c807b54759e94af5e875ab3e56}{RS\_CAMERA\_SCOPE}});}
\DoxyCodeLine{00062 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_real_sense_d435_manager_a6bfda5201144b0f6cce703c954bc19ad}\label{class_real_sense_d435_manager_a6bfda5201144b0f6cce703c954bc19ad}} 
\index{RealSenseD435Manager@{RealSenseD435Manager}!startEnvironment@{startEnvironment}}
\index{startEnvironment@{startEnvironment}!RealSenseD435Manager@{RealSenseD435Manager}}
\doxysubsubsection{\texorpdfstring{startEnvironment()}{startEnvironment()}}
{\footnotesize\ttfamily void Real\+Sense\+D435\+Manager\+::start\+Environment (\begin{DoxyParamCaption}\item[{rs2\+::pipeline \&}]{pipeline\+Stream,  }\item[{struct rs2\+\_\+intrinsics \&}]{color\+\_\+intrin,  }\item[{float $\ast$}]{scale,  }\item[{unsigned short int}]{resX,  }\item[{unsigned short int}]{resY,  }\item[{bool}]{first\+Boot }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



This method is useful to invoke at the boot of the program where we want to initialize the different mangers, start the camera and set up the related environment. This method is specific for D435 Intel Real\+Sense camera. 


\begin{DoxyParams}{Parameters}
{\em pipeline\+Stream} & The pipeline simplifies the user interaction with the device and computer vision processing modules. The class abstracts the camera configuration and streaming, and the vision modules triggering and threading. It lets the application focus on the computer vision output of the modules, or the device output data. The pipeline can manage computer vision modules, which are implemented as a processing block. The pipeline is the consumer of the processing block interface, while the application consumes the computer vision interface. \\
\hline
{\em color\+\_\+intrin} & Reference to color video stream intrinsics. \\
\hline
{\em scale} & Pointer to scaling factor. \\
\hline
{\em resX} & x resoultion \texorpdfstring{$<$}{<}-\/\texorpdfstring{$>$}{>} \\
\hline
{\em resY} & y resolution \\
\hline
{\em first\+Boot} & true if the method is called for the first time (in this case a kind of camera calibration is done), false otherwise. \\
\hline
{\em destination\+Kafka\+Topic} & the destination\textquotesingle{}s kafka topic\textquotesingle{}s name. \\
\hline
\end{DoxyParams}
\begin{DoxySeeAlso}{See also}
\href{https://dev.intelrealsense.com/docs/docs-get-started}{\texttt{ https\+://dev.\+intelrealsense.\+com/docs/docs-\/get-\/started}} 

start\+Environment(rs2\+::pipeline \& pipeline\+Stream, struct rs2\+\_\+intrinsics \& color\+\_\+intrin, float $\ast$ scale, unsigned short int res\+X, unsigned short int res\+Y, const char $\ast$ destination\+Kafka\+Topic) 
\end{DoxySeeAlso}


Implements \mbox{\hyperlink{class_real_sense_manager_a7cc9374e6575681b05db3e0592d10944}{Real\+Sense\+Manager}}.



Definition at line \mbox{\hyperlink{_real_sense_d435_manager_8cpp_source_l00015}{15}} of file \mbox{\hyperlink{_real_sense_d435_manager_8cpp_source}{Real\+Sense\+D435\+Manager.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00015                                                                                                                                                                                                     \{}
\DoxyCodeLine{00016     rs2::log\_to\_console(RS2\_LOG\_SEVERITY\_ERROR);}
\DoxyCodeLine{00017     rs2::rates\_printer printer;}
\DoxyCodeLine{00018     rs2::config myConfiguration;}
\DoxyCodeLine{00019     myConfiguration.enable\_stream(rs2\_stream::RS2\_STREAM\_DEPTH, resX, resY, rs2\_format::RS2\_FORMAT\_Z16);}
\DoxyCodeLine{00020     myConfiguration.enable\_stream(rs2\_stream::RS2\_STREAM\_COLOR, resX, resY, rs2\_format::RS2\_FORMAT\_RGB8);}
\DoxyCodeLine{00021     rs2::pipeline\_profile myPipelineProfile = pipelineStream.start(myConfiguration);}
\DoxyCodeLine{00022     rs2::align align\_to(RS2\_STREAM\_COLOR);}
\DoxyCodeLine{00023     \mbox{\hyperlink{class_real_sense_manager_a66ccf804742763a2bf2d3b6d9342f191}{RealSenseManager::set\_align}}(rs2::align(align\_to));}
\DoxyCodeLine{00024     rs2::depth\_sensor sensor = myPipelineProfile.get\_device().first<rs2::depth\_sensor>();}
\DoxyCodeLine{00025     * scale = sensor.get\_depth\_scale();}
\DoxyCodeLine{00026     }
\DoxyCodeLine{00027     \textcolor{comment}{// Capture 30 frames to give autoexposure, etc. a chance to settle}}
\DoxyCodeLine{00028     \textcolor{keywordflow}{if} (firstBoot) \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < 30; i++) pipelineStream.wait\_for\_frames();}
\DoxyCodeLine{00029     }
\DoxyCodeLine{00030     \mbox{\hyperlink{class_real_sense_manager_a1fef8da6adb415bc157d5ca2931fda7e}{RealSenseManager::set\_depth\_intrin}}(myPipelineProfile.get\_stream(RS2\_STREAM\_DEPTH).as<rs2::video\_stream\_profile>().get\_intrinsics());}
\DoxyCodeLine{00031     \mbox{\hyperlink{class_real_sense_manager_ab876bfaffd8a23924ff182573e900cda}{color\_intrin}} = myPipelineProfile.get\_stream(RS2\_STREAM\_COLOR).as<rs2::video\_stream\_profile>().get\_intrinsics();}
\DoxyCodeLine{00032     \mbox{\hyperlink{class_real_sense_manager_a1fcc8be70e92a51f9dcc82fdfe1b795e}{RealSenseManager::set\_color\_intrin}}(\mbox{\hyperlink{class_real_sense_manager_ab876bfaffd8a23924ff182573e900cda}{color\_intrin}});}
\DoxyCodeLine{00033     \mbox{\hyperlink{class_real_sense_manager_a821b3c038564cd28a4efd764e85e3656}{RealSenseManager::set\_color\_to\_depth}}(myPipelineProfile.get\_stream(RS2\_STREAM\_DEPTH).as<rs2::video\_stream\_profile>().get\_extrinsics\_to(myPipelineProfile.get\_stream(RS2\_STREAM\_COLOR)));}
\DoxyCodeLine{00034     \mbox{\hyperlink{class_real_sense_manager_a0e6df6bd8c81bd32022c18d06a272307}{RealSenseManager::set\_depth\_to\_color}}(myPipelineProfile.get\_stream(RS2\_STREAM\_COLOR).as<rs2::video\_stream\_profile>().get\_extrinsics\_to(myPipelineProfile.get\_stream(RS2\_STREAM\_DEPTH)));}
\DoxyCodeLine{00035 \} \textcolor{keywordflow}{catch} (\textcolor{keyword}{const} rs2::error \& e)\{}
\DoxyCodeLine{00036     std::cerr << \textcolor{stringliteral}{"{}RealSense error calling "{}} << e.get\_failed\_function() << \textcolor{stringliteral}{"{}("{}} << e.get\_failed\_args() << \textcolor{stringliteral}{"{}):\(\backslash\)n   "{}} << e.what() << std::endl;}
\DoxyCodeLine{00037     CV\_Error(\mbox{\hyperlink{constants_8hpp_ae4c7c146bcc762eadc9e87a62bd0924e}{RS\_CAMERA\_ERROR}}, \mbox{\hyperlink{constants_8hpp_a60f7f9c807b54759e94af5e875ab3e56}{RS\_CAMERA\_SCOPE}});}
\DoxyCodeLine{00038 \} \textcolor{keywordflow}{catch} (\textcolor{keyword}{const} std::exception \& e) \{}
\DoxyCodeLine{00039     std::cerr << e.what() << std::endl;}
\DoxyCodeLine{00040     CV\_Error(\mbox{\hyperlink{constants_8hpp_ae4c7c146bcc762eadc9e87a62bd0924e}{RS\_CAMERA\_ERROR}}, \mbox{\hyperlink{constants_8hpp_a60f7f9c807b54759e94af5e875ab3e56}{RS\_CAMERA\_SCOPE}});}
\DoxyCodeLine{00041 \}}

\end{DoxyCode}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
Managers/\+Real\+Sense\+Managers/\mbox{\hyperlink{_real_sense_manager_8hpp}{Real\+Sense\+Manager.\+hpp}}\item 
Managers/\+Real\+Sense\+Managers/\mbox{\hyperlink{_real_sense_d435_manager_8cpp}{Real\+Sense\+D435\+Manager.\+cpp}}\end{DoxyCompactItemize}
