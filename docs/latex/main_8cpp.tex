\hypertarget{main_8cpp}{}\doxysection{main.\+cpp File Reference}
\label{main_8cpp}\index{main.cpp@{main.cpp}}
{\ttfamily \#include \char`\"{}Facade\+Singleton.\+hpp\char`\"{}}\newline
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
int \mbox{\hyperlink{main_8cpp_a3c04138a5bfe5d72780bb7e82a18e627}{main}} (int argc, char $\ast$$\ast$argv)
\begin{DoxyCompactList}\small\item\em Main. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
const int \mbox{\hyperlink{main_8cpp_a6fa72393436e6821a7e83adbc46766e9}{expected\+\_\+argc}} = 5
\item 
const char $\ast$ \mbox{\hyperlink{main_8cpp_a447cec8ebf4927b96cdae3a54f92c840}{expected\+Usage\+Message}}
\end{DoxyCompactItemize}


\doxysubsection{Function Documentation}
\mbox{\Hypertarget{main_8cpp_a3c04138a5bfe5d72780bb7e82a18e627}\label{main_8cpp_a3c04138a5bfe5d72780bb7e82a18e627}} 
\index{main.cpp@{main.cpp}!main@{main}}
\index{main@{main}!main.cpp@{main.cpp}}
\doxysubsubsection{\texorpdfstring{main()}{main()}}
{\footnotesize\ttfamily int main (\begin{DoxyParamCaption}\item[{int}]{argc,  }\item[{char $\ast$$\ast$}]{argv }\end{DoxyParamCaption})}



Main. 

The main function contains a sample code to launch the program.


\begin{DoxyParams}{Parameters}
{\em argc} & Main argument count \\
\hline
{\em argv} & Main argument values \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
int The return value for main indicates how the program exited. Normal exit is represented by a 0 return value from main. Abnormal exit is signaled by a non-\/zero return, but there is no standard for how non-\/zero codes are interpreted. 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{main_8cpp_source_l00183}{183}} of file \mbox{\hyperlink{main_8cpp_source}{main.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00183                                   \{}
\DoxyCodeLine{00184     rs2::pipeline pipelineStream;}
\DoxyCodeLine{00185     \textcolor{comment}{// Scaling factor for distance frame and topic name for kafka connection.}}
\DoxyCodeLine{00186     \textcolor{keywordtype}{float} scale;}
\DoxyCodeLine{00187     \textcolor{keyword}{const} \textcolor{keywordtype}{char} * destinationKafkaTopic = \textcolor{stringliteral}{"{}t1"{}};}
\DoxyCodeLine{00188     \textcolor{comment}{// Optimal resolution for D435: 848x480.}}
\DoxyCodeLine{00189     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} user\_nFrame = 60, resX = 848, resY = 480;}
\DoxyCodeLine{00190     \textcolor{keyword}{const} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{short} \textcolor{keywordtype}{int} framesToSkip = 5;}
\DoxyCodeLine{00191     \textcolor{keyword}{const} \textcolor{keywordtype}{float} skeletonThreshold = 0.05;}
\DoxyCodeLine{00192     \textcolor{keyword}{struct }rs2\_intrinsics color\_intrin;}
\DoxyCodeLine{00193     \mbox{\hyperlink{classRoom}{Room}} room = \mbox{\hyperlink{classCVPR__Lab}{CVPR\_Lab}}();}
\DoxyCodeLine{00194     }
\DoxyCodeLine{00195     \textcolor{comment}{// Declaring a pointer to a FacadeSingleton object (it will be helpful to easily interact with all submodules) and starting D435 camera.}}
\DoxyCodeLine{00196     \mbox{\hyperlink{classFacadeSingleton}{FacadeSingleton}} * myUtility = \mbox{\hyperlink{classFacadeSingleton_aeac68956d001824b9ecb75d385687535}{FacadeSingleton::getInstance}}(\mbox{\hyperlink{main_8cpp_a6fa72393436e6821a7e83adbc46766e9}{expected\_argc}}, \mbox{\hyperlink{main_8cpp_a447cec8ebf4927b96cdae3a54f92c840}{expectedUsageMessage}});}
\DoxyCodeLine{00197     myUtility-\/>\mbox{\hyperlink{classFacadeSingleton_a269a1e41f57c4490ec9f8d933b535dbf}{startEnvironment}}(pipelineStream, color\_intrin, \& scale, resX, resY, destinationKafkaTopic, room);}
\DoxyCodeLine{00198 }
\DoxyCodeLine{00199     \textcolor{comment}{/*}}
\DoxyCodeLine{00200 \textcolor{comment}{        An infinite loop that captures the frames seen from the camera, gives them to OpenPose, gets the output, and builds skeletons.}}
\DoxyCodeLine{00201 \textcolor{comment}{        After that, we create a properly formatted output JSON file and send it via Kafka for further elaboration.}}
\DoxyCodeLine{00202 \textcolor{comment}{    */}}
\DoxyCodeLine{00203     \textcolor{keywordflow}{while} (\textcolor{keyword}{true}) \{}
\DoxyCodeLine{00204         myUtility-\/>\mbox{\hyperlink{classFacadeSingleton_a9c706fde593f40f6746734382e057738}{getVideoFrames}}(user\_nFrame, pipelineStream, scale, framesToSkip);}
\DoxyCodeLine{00205         myUtility-\/>\mbox{\hyperlink{classFacadeSingleton_a7aaaa5771df6a9e3b8367f611b9c126d}{getVideoBodyKeyPoints}}(\& argc, \& argv);}
\DoxyCodeLine{00206         myUtility-\/>\mbox{\hyperlink{classFacadeSingleton_a06ebcdd6234d6bc1fb416a22030daa9a}{showSkeletons}}(user\_nFrame, skeletonThreshold);}
\DoxyCodeLine{00207         myUtility-\/>\mbox{\hyperlink{classFacadeSingleton_ad27a9b955b74b4e549fc84650580bc15}{sendData}}(user\_nFrame);}
\DoxyCodeLine{00208         myUtility-\/>\mbox{\hyperlink{classFacadeSingleton_abc5f2b337bf77ee67ea25f62220c261f}{cleanBuildFolder}}();}
\DoxyCodeLine{00209     \}}
\DoxyCodeLine{00210     \textcolor{keywordflow}{return} EXIT\_SUCCESS;}
\DoxyCodeLine{00211 \}}

\end{DoxyCode}


References \mbox{\hyperlink{FacadeSingleton_8cpp_source_l00166}{Facade\+Singleton\+::clean\+Build\+Folder()}}, \mbox{\hyperlink{main_8cpp_source_l00167}{expected\+\_\+argc}}, \mbox{\hyperlink{main_8cpp_source_l00168}{expected\+Usage\+Message}}, \mbox{\hyperlink{FacadeSingleton_8cpp_source_l00089}{Facade\+Singleton\+::get\+Instance()}}, \mbox{\hyperlink{FacadeSingleton_8cpp_source_l00139}{Facade\+Singleton\+::get\+Video\+Body\+Key\+Points()}}, \mbox{\hyperlink{FacadeSingleton_8cpp_source_l00135}{Facade\+Singleton\+::get\+Video\+Frames()}}, \mbox{\hyperlink{FacadeSingleton_8cpp_source_l00149}{Facade\+Singleton\+::send\+Data()}}, \mbox{\hyperlink{FacadeSingleton_8cpp_source_l00145}{Facade\+Singleton\+::show\+Skeletons()}}, and \mbox{\hyperlink{FacadeSingleton_8cpp_source_l00123}{Facade\+Singleton\+::start\+Environment()}}.



\doxysubsection{Variable Documentation}
\mbox{\Hypertarget{main_8cpp_a6fa72393436e6821a7e83adbc46766e9}\label{main_8cpp_a6fa72393436e6821a7e83adbc46766e9}} 
\index{main.cpp@{main.cpp}!expected\_argc@{expected\_argc}}
\index{expected\_argc@{expected\_argc}!main.cpp@{main.cpp}}
\doxysubsubsection{\texorpdfstring{expected\_argc}{expected\_argc}}
{\footnotesize\ttfamily const int expected\+\_\+argc = 5}



Definition at line \mbox{\hyperlink{main_8cpp_source_l00167}{167}} of file \mbox{\hyperlink{main_8cpp_source}{main.\+cpp}}.



Referenced by \mbox{\hyperlink{FacadeSingleton_8cpp_source_l00020}{Facade\+Singleton\+::\+Facade\+Singleton()}}, \mbox{\hyperlink{FacadeSingleton_8cpp_source_l00083}{Facade\+Singleton\+::get\+Instance()}}, and \mbox{\hyperlink{main_8cpp_source_l00183}{main()}}.

\mbox{\Hypertarget{main_8cpp_a447cec8ebf4927b96cdae3a54f92c840}\label{main_8cpp_a447cec8ebf4927b96cdae3a54f92c840}} 
\index{main.cpp@{main.cpp}!expectedUsageMessage@{expectedUsageMessage}}
\index{expectedUsageMessage@{expectedUsageMessage}!main.cpp@{main.cpp}}
\doxysubsubsection{\texorpdfstring{expectedUsageMessage}{expectedUsageMessage}}
{\footnotesize\ttfamily const char$\ast$ expected\+Usage\+Message}

{\bfseries Initial value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{= \textcolor{stringliteral}{"{}Usage: sudo ./AI\_Watch\_A1.bin <path/openpose folder/> <./path/openpose.bin> "{}}}
\DoxyCodeLine{                                    \textcolor{stringliteral}{"{}<path/images folder/> <path/JSON output folder/>"{}}}

\end{DoxyCode}


Definition at line \mbox{\hyperlink{main_8cpp_source_l00168}{168}} of file \mbox{\hyperlink{main_8cpp_source}{main.\+cpp}}.



Referenced by \mbox{\hyperlink{FacadeSingleton_8cpp_source_l00020}{Facade\+Singleton\+::\+Facade\+Singleton()}}, \mbox{\hyperlink{FacadeSingleton_8cpp_source_l00083}{Facade\+Singleton\+::get\+Instance()}}, and \mbox{\hyperlink{main_8cpp_source_l00183}{main()}}.

