\hypertarget{class_open_c_v___manager}{}\doxysection{Open\+CV\+\_\+\+Manager Class Reference}
\label{class_open_c_v___manager}\index{OpenCV\_Manager@{OpenCV\_Manager}}


\mbox{\hyperlink{class_open_c_v___manager}{Open\+CV\+\_\+\+Manager}} class is used for general-\/purpose tasks on the captured frames.  




{\ttfamily \#include $<$Open\+CV\+\_\+\+Manager.\+hpp$>$}

\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
virtual \mbox{\hyperlink{class_open_c_v___manager_abc9a2e3cc425fcb1d364000ea2ad51d7}{$\sim$\+Open\+CV\+\_\+\+Manager}} ()=default
\begin{DoxyCompactList}\small\item\em Destroy the \mbox{\hyperlink{class_open_c_v___manager}{Open\+CV\+\_\+\+Manager}} object. \end{DoxyCompactList}\item 
cv\+::\+Mat \mbox{\hyperlink{class_open_c_v___manager_a763f869b71bef3cd172254b2511b789f}{realsense\+Frame\+To\+Mat}} (const rs2\+::frame \&single\+Frame)
\begin{DoxyCompactList}\small\item\em This method converts a frame of type rs2\+::frame to cv\+::\+Mat. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_open_c_v___manager_ab2b14f68d14fb05e15cf22f8184a651c}{get\+Video\+Frames\+CV}} (unsigned int user\+\_\+n\+Frame, rs2\+::pipeline \&pipeline\+Stream, float scale)
\begin{DoxyCompactList}\small\item\em Get user\+\_\+n\+Frame video frames from the pipeline by applying a specific scaling factor. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_open_c_v___manager_ae821406a67a6e69c4229f31e3e84f031}{show\+Skeletons\+CV}} (unsigned int user\+\_\+n\+Frame)
\begin{DoxyCompactList}\small\item\em Retrieve Open\+Pose\textquotesingle{}s output, convert it to Real\+Sense coordinate\textquotesingle{}s space, show results and save them. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
\mbox{\hyperlink{class_open_c_v___manager}{Open\+CV\+\_\+\+Manager}} class is used for general-\/purpose tasks on the captured frames. 

\mbox{\hyperlink{class_open_c_v___manager}{Open\+CV\+\_\+\+Manager}} class is a class that is responsible for converting a rs2\+::frame to a cv\+::\+Mat, retrieving video frames from the camera and handling them, showing the skeletons, producing related output, and saving results. 

Definition at line \mbox{\hyperlink{_open_c_v___manager_8hpp_source_l00020}{20}} of file \mbox{\hyperlink{_open_c_v___manager_8hpp_source}{Open\+CV\+\_\+\+Manager.\+hpp}}.



\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{class_open_c_v___manager_abc9a2e3cc425fcb1d364000ea2ad51d7}\label{class_open_c_v___manager_abc9a2e3cc425fcb1d364000ea2ad51d7}} 
\index{OpenCV\_Manager@{OpenCV\_Manager}!````~OpenCV\_Manager@{$\sim$OpenCV\_Manager}}
\index{````~OpenCV\_Manager@{$\sim$OpenCV\_Manager}!OpenCV\_Manager@{OpenCV\_Manager}}
\doxysubsubsection{\texorpdfstring{$\sim$OpenCV\_Manager()}{~OpenCV\_Manager()}}
{\footnotesize\ttfamily virtual Open\+CV\+\_\+\+Manager\+::$\sim$\+Open\+CV\+\_\+\+Manager (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}, {\ttfamily [default]}}



Destroy the \mbox{\hyperlink{class_open_c_v___manager}{Open\+CV\+\_\+\+Manager}} object. 



\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{class_open_c_v___manager_ab2b14f68d14fb05e15cf22f8184a651c}\label{class_open_c_v___manager_ab2b14f68d14fb05e15cf22f8184a651c}} 
\index{OpenCV\_Manager@{OpenCV\_Manager}!getVideoFramesCV@{getVideoFramesCV}}
\index{getVideoFramesCV@{getVideoFramesCV}!OpenCV\_Manager@{OpenCV\_Manager}}
\doxysubsubsection{\texorpdfstring{getVideoFramesCV()}{getVideoFramesCV()}}
{\footnotesize\ttfamily void Open\+CV\+\_\+\+Manager\+::get\+Video\+Frames\+CV (\begin{DoxyParamCaption}\item[{unsigned int}]{user\+\_\+n\+Frame,  }\item[{rs2\+::pipeline \&}]{pipeline\+Stream,  }\item[{float}]{scale }\end{DoxyParamCaption})}



Get user\+\_\+n\+Frame video frames from the pipeline by applying a specific scaling factor. 


\begin{DoxyParams}{Parameters}
{\em user\+\_\+n\+Frame} & frame\textquotesingle{}s number to capture according to user choice. \\
\hline
{\em pipeline\+Stream} & The pipeline simplifies the user interaction with the device and computer vision processing modules. The class abstracts the camera configuration and streaming, and the vision modules triggering and threading. It lets the application focus on the computer vision output of the modules, or the device output data. The pipeline can manage computer vision modules, which are implemented as a processing block. The pipeline is the consumer of the processing block interface, while the application consumes the computer vision interface. \\
\hline
{\em scale} & Scaling factor. \\
\hline
\end{DoxyParams}
\begin{DoxySeeAlso}{See also}
\href{https://dev.intelrealsense.com/docs/docs-get-started}{\texttt{ https\+://dev.\+intelrealsense.\+com/docs/docs-\/get-\/started}} 

get\+Video\+Frames(unsigned int user\+\_\+n\+Frame, rs2\+::pipeline \& pipeline\+Stream, float scale) 

get\+Video\+Frames\+RS(unsigned int user\+\_\+n\+Frame, rs2\+::pipeline \& pipeline\+Stream, rs2\+::depth\+\_\+frame \& depth\+Frame, rs2\+::frame \& color\+Frame, rs2\+::frame \& colorized\+Depth\+Frame) 
\end{DoxySeeAlso}


Definition at line \mbox{\hyperlink{_open_c_v___manager_8cpp_source_l00034}{34}} of file \mbox{\hyperlink{_open_c_v___manager_8cpp_source}{Open\+CV\+\_\+\+Manager.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00034                                                                                                           \{}
\DoxyCodeLine{00035     \mbox{\hyperlink{class_usage_manager}{UsageManager}} * usageManagerInstance = \mbox{\hyperlink{class_usage_manager_af047400a8bd50603cff4bbffe37ebea2}{UsageManager::getInstance}}();}
\DoxyCodeLine{00036     \textcolor{keywordflow}{if} (usageManagerInstance == \textcolor{keyword}{nullptr}) CV\_Error(\mbox{\hyperlink{constants_8hpp_ab495e2525cf238bb390ca68277586bf4}{USAGE\_MANAGER\_NULLPTR\_ERROR}}, \mbox{\hyperlink{constants_8hpp_ade33b45fd12b716d5e837609aa163416}{USAGE\_MANAGER\_NULLPTR\_SCOPE}});}
\DoxyCodeLine{00037     \textcolor{keywordtype}{char} ** argv = * usageManagerInstance-\/>\mbox{\hyperlink{class_usage_manager_abf0d03e097025fc8d85133f6a0ff83ff}{get\_argv}}();}
\DoxyCodeLine{00038     \textcolor{keyword}{const} \textcolor{keywordtype}{char} * imagesFolder = argv[\mbox{\hyperlink{constants_8hpp_a660671264f8ea07781cd04446d83cbf6}{imagesFolderOffset}}];}
\DoxyCodeLine{00039     \mbox{\hyperlink{class_facade_singleton}{FacadeSingleton}} * facadeSingletonInstance = \mbox{\hyperlink{class_facade_singleton_aeac68956d001824b9ecb75d385687535}{FacadeSingleton::getInstance}}();}
\DoxyCodeLine{00040     \textcolor{keywordflow}{if} (facadeSingletonInstance == \textcolor{keyword}{nullptr}) CV\_Error(\mbox{\hyperlink{constants_8hpp_aba8cd558b16927b8fe2d962968d20c10}{FACADE\_SINGLETON\_NULLPTR\_ERROR}}, \mbox{\hyperlink{constants_8hpp_ae5a935d42848889b474e368ef77cf46a}{FACADE\_SINGLETON\_NULLPTR\_SCOPE}});}
\DoxyCodeLine{00041     \mbox{\hyperlink{class_real_sense_manager}{RealSenseManager}} * cameraManager = facadeSingletonInstance-\/>\mbox{\hyperlink{class_facade_singleton_aa365ece7ecb2ba2d4a6d160e3698275a}{getCameraManager}}();}
\DoxyCodeLine{00042     \mbox{\hyperlink{class_image_manager}{ImageManager}} * imageManager = facadeSingletonInstance-\/>\mbox{\hyperlink{class_facade_singleton_a3bcded05b467db6b295d7958d31434d9}{getImageManager}}();}
\DoxyCodeLine{00043     }
\DoxyCodeLine{00044     \textcolor{comment}{// Do this until we don't capture, convert, scale, compute and save user\_nFrame frame}}
\DoxyCodeLine{00045     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} nFrame = 0; nFrame < user\_nFrame; nFrame++) \{}
\DoxyCodeLine{00046         \textcolor{comment}{// Capture}}
\DoxyCodeLine{00047         \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} frameID = cameraManager-\/>\mbox{\hyperlink{class_real_sense_manager_aac01bf5b0fe977a03ff6ab9fa2bbf06f}{getFrameID}}();}
\DoxyCodeLine{00048         rs2::depth\_frame depthFrame = rs2::depth\_frame(rs2::frame());}
\DoxyCodeLine{00049         rs2::frame colorFrame, colorizedDepthFrame;}
\DoxyCodeLine{00050         cameraManager-\/>\mbox{\hyperlink{class_real_sense_manager_a99e6a8fd7ce5b9feb5a3ffc91a5a5b0f}{getVideoFramesRS}}(user\_nFrame, pipelineStream, depthFrame, colorFrame, colorizedDepthFrame);}
\DoxyCodeLine{00051         \textcolor{keywordtype}{int} cols = depthFrame.get\_width(), rows = depthFrame.get\_height();}
\DoxyCodeLine{00052         \textcolor{comment}{// Convert}}
\DoxyCodeLine{00053         cv::Mat colorImage = \mbox{\hyperlink{class_open_c_v___manager_a763f869b71bef3cd172254b2511b789f}{realsenseFrameToMat}}(colorFrame), distanceImage = cv::Mat::zeros(rows, cols, CV\_32FC1);}
\DoxyCodeLine{00054         cv::Mat depthImage = \mbox{\hyperlink{class_open_c_v___manager_a763f869b71bef3cd172254b2511b789f}{realsenseFrameToMat}}(depthFrame), colorizedDepthImage = \mbox{\hyperlink{class_open_c_v___manager_a763f869b71bef3cd172254b2511b789f}{realsenseFrameToMat}}(colorizedDepthFrame);}
\DoxyCodeLine{00055         \textcolor{comment}{// Scale}}
\DoxyCodeLine{00056         depthImage *= 1000.0 * scale;}
\DoxyCodeLine{00057         \textcolor{comment}{// Compute distance}}
\DoxyCodeLine{00058         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < cols; i++) \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} j = 0; j < rows; j++) distanceImage.at <\textcolor{keywordtype}{float}> (j, i) = (float) depthFrame.get\_distance(i, j);}
\DoxyCodeLine{00059 }
\DoxyCodeLine{00060         std::stringstream colorImagePath, distanceImagePath, colorizedDepthImagePath;}
\DoxyCodeLine{00061         colorImagePath <<           imagesFolder << \textcolor{stringliteral}{"{}rgb/"{}} <<   frameID << \textcolor{stringliteral}{"{}\_Color.png"{}};}
\DoxyCodeLine{00062         distanceImagePath <<        imagesFolder << \textcolor{stringliteral}{"{}d/"{}} <<     frameID << \textcolor{stringliteral}{"{}\_Distance.exr"{}};}
\DoxyCodeLine{00063         colorizedDepthImagePath <<  imagesFolder << \textcolor{stringliteral}{"{}depth/"{}} << frameID << \textcolor{stringliteral}{"{}\_Depth.png"{}};}
\DoxyCodeLine{00064         \textcolor{comment}{// Save}}
\DoxyCodeLine{00065         imageManager-\/>\mbox{\hyperlink{class_image_manager_aeae03d66a4a45347804c4c927fa55b42}{saveImages}}( \{ colorImage, distanceImage, colorizedDepthImage \},}
\DoxyCodeLine{00066                                  \{ colorImagePath.str(), distanceImagePath.str(), colorizedDepthImagePath.str() \} );}
\DoxyCodeLine{00067         imageManager-\/>\mbox{\hyperlink{class_image_manager_a6b448d93b315c6479590fa5afd278674}{releaseImages}}( \{ colorImage, depthImage, distanceImage, colorizedDepthImage \} );}
\DoxyCodeLine{00068     \}}
\DoxyCodeLine{00069 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_open_c_v___manager_a763f869b71bef3cd172254b2511b789f}\label{class_open_c_v___manager_a763f869b71bef3cd172254b2511b789f}} 
\index{OpenCV\_Manager@{OpenCV\_Manager}!realsenseFrameToMat@{realsenseFrameToMat}}
\index{realsenseFrameToMat@{realsenseFrameToMat}!OpenCV\_Manager@{OpenCV\_Manager}}
\doxysubsubsection{\texorpdfstring{realsenseFrameToMat()}{realsenseFrameToMat()}}
{\footnotesize\ttfamily cv\+::\+Mat Open\+CV\+\_\+\+Manager\+::realsense\+Frame\+To\+Mat (\begin{DoxyParamCaption}\item[{const rs2\+::frame \&}]{single\+Frame }\end{DoxyParamCaption})}



This method converts a frame of type rs2\+::frame to cv\+::\+Mat. 


\begin{DoxyParams}{Parameters}
{\em single\+Frame} & A frame of type rs2\+::frame. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
cv\+::\+Mat 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{_open_c_v___manager_8cpp_source_l00012}{12}} of file \mbox{\hyperlink{_open_c_v___manager_8cpp_source}{Open\+CV\+\_\+\+Manager.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00012                                                                        \{}
\DoxyCodeLine{00013     rs2::video\_frame videoFrame = singleFrame.as<rs2::video\_frame>();}
\DoxyCodeLine{00014     \textcolor{keyword}{const} \textcolor{keywordtype}{int} frameWidth = videoFrame.get\_width(), frameHeight = videoFrame.get\_height();}
\DoxyCodeLine{00015     }
\DoxyCodeLine{00016     \textcolor{keywordflow}{switch} (singleFrame.get\_profile().format()) \{}
\DoxyCodeLine{00017         \textcolor{keywordflow}{case} RS2\_FORMAT\_BGR8:}
\DoxyCodeLine{00018             \textcolor{keywordflow}{return} cv::Mat(cv::Size(frameWidth, frameHeight), CV\_8UC3, (\textcolor{keywordtype}{void} *) singleFrame.get\_data(), cv::Mat::AUTO\_STEP);}
\DoxyCodeLine{00019         \textcolor{keywordflow}{case} RS2\_FORMAT\_RGB8: \{}
\DoxyCodeLine{00020             cv::Mat rgbFrame = cv::Mat(cv::Size(frameWidth, frameHeight), CV\_8UC3, (\textcolor{keywordtype}{void} *) singleFrame.get\_data(), cv::Mat::AUTO\_STEP);}
\DoxyCodeLine{00021             cv::cvtColor(rgbFrame, rgbFrame, cv::COLOR\_RGB2BGR);}
\DoxyCodeLine{00022             \textcolor{keywordflow}{return} rgbFrame;}
\DoxyCodeLine{00023         \}}
\DoxyCodeLine{00024         \textcolor{keywordflow}{case} RS2\_FORMAT\_Z16:}
\DoxyCodeLine{00025             \textcolor{keywordflow}{return} cv::Mat(cv::Size(frameWidth, frameHeight), CV\_16UC1, (\textcolor{keywordtype}{void} *) singleFrame.get\_data(), cv::Mat::AUTO\_STEP);}
\DoxyCodeLine{00026         \textcolor{keywordflow}{case} RS2\_FORMAT\_Y8:}
\DoxyCodeLine{00027             \textcolor{keywordflow}{return} cv::Mat(cv::Size(frameWidth, frameHeight), CV\_8UC1, (\textcolor{keywordtype}{void} *) singleFrame.get\_data(), cv::Mat::AUTO\_STEP);}
\DoxyCodeLine{00028         \textcolor{keywordflow}{default}:}
\DoxyCodeLine{00029             \textcolor{keywordflow}{throw} std::runtime\_error(\textcolor{stringliteral}{"{}Frame format is not supported yet!"{}});}
\DoxyCodeLine{00030             \textcolor{keywordflow}{break};}
\DoxyCodeLine{00031     \}}
\DoxyCodeLine{00032 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_open_c_v___manager_ae821406a67a6e69c4229f31e3e84f031}\label{class_open_c_v___manager_ae821406a67a6e69c4229f31e3e84f031}} 
\index{OpenCV\_Manager@{OpenCV\_Manager}!showSkeletonsCV@{showSkeletonsCV}}
\index{showSkeletonsCV@{showSkeletonsCV}!OpenCV\_Manager@{OpenCV\_Manager}}
\doxysubsubsection{\texorpdfstring{showSkeletonsCV()}{showSkeletonsCV()}}
{\footnotesize\ttfamily void Open\+CV\+\_\+\+Manager\+::show\+Skeletons\+CV (\begin{DoxyParamCaption}\item[{unsigned int}]{user\+\_\+n\+Frame }\end{DoxyParamCaption})}



Retrieve Open\+Pose\textquotesingle{}s output, convert it to Real\+Sense coordinate\textquotesingle{}s space, show results and save them. 


\begin{DoxyParams}{Parameters}
{\em user\+\_\+n\+Frame} & frame\textquotesingle{}s number to capture according to user choice. \\
\hline
\end{DoxyParams}
\begin{DoxySeeAlso}{See also}
show\+Skeletons(unsigned int user\+\_\+n\+Frame) 
\end{DoxySeeAlso}


Definition at line \mbox{\hyperlink{_open_c_v___manager_8cpp_source_l00071}{71}} of file \mbox{\hyperlink{_open_c_v___manager_8cpp_source}{Open\+CV\+\_\+\+Manager.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00071                                                               \{}
\DoxyCodeLine{00072     \mbox{\hyperlink{class_facade_singleton}{FacadeSingleton}} * facadeSingletonInstance = \mbox{\hyperlink{class_facade_singleton_aeac68956d001824b9ecb75d385687535}{FacadeSingleton::getInstance}}();}
\DoxyCodeLine{00073     \textcolor{keywordflow}{if} (facadeSingletonInstance == \textcolor{keyword}{nullptr}) CV\_Error(\mbox{\hyperlink{constants_8hpp_aba8cd558b16927b8fe2d962968d20c10}{FACADE\_SINGLETON\_NULLPTR\_ERROR}}, \mbox{\hyperlink{constants_8hpp_ae5a935d42848889b474e368ef77cf46a}{FACADE\_SINGLETON\_NULLPTR\_SCOPE}});}
\DoxyCodeLine{00074     \mbox{\hyperlink{class_real_sense_manager}{RealSenseManager}} * cameraManager = facadeSingletonInstance-\/>\mbox{\hyperlink{class_facade_singleton_aa365ece7ecb2ba2d4a6d160e3698275a}{getCameraManager}}();}
\DoxyCodeLine{00075     \mbox{\hyperlink{class_output_manager_j_s_o_n}{OutputManagerJSON}} * outputManagerJSON = (\mbox{\hyperlink{class_output_manager_j_s_o_n}{OutputManagerJSON}} *) facadeSingletonInstance-\/>\mbox{\hyperlink{class_facade_singleton_a91e11305b99378bd6c7e8d6bfb5b1ca4}{getOutputManager}}();}
\DoxyCodeLine{00076     \mbox{\hyperlink{class_usage_manager}{UsageManager}} * usageManagerInstance = facadeSingletonInstance-\/>\mbox{\hyperlink{class_facade_singleton_a96d0bcfe088620c1dca604a92a3bbe44}{getUsageManager}}();}
\DoxyCodeLine{00077     \textcolor{keywordflow}{if} (usageManagerInstance == \textcolor{keyword}{nullptr}) CV\_Error(\mbox{\hyperlink{constants_8hpp_ab495e2525cf238bb390ca68277586bf4}{USAGE\_MANAGER\_NULLPTR\_ERROR}}, \mbox{\hyperlink{constants_8hpp_ade33b45fd12b716d5e837609aa163416}{USAGE\_MANAGER\_NULLPTR\_SCOPE}});}
\DoxyCodeLine{00078     \mbox{\hyperlink{class_image_manager}{ImageManager}} * imageManager = facadeSingletonInstance-\/>\mbox{\hyperlink{class_facade_singleton_a3bcded05b467db6b295d7958d31434d9}{getImageManager}}();}
\DoxyCodeLine{00079     \textcolor{keywordtype}{char} ** argv = * usageManagerInstance-\/>\mbox{\hyperlink{class_usage_manager_abf0d03e097025fc8d85133f6a0ff83ff}{get\_argv}}(), * imagesFolder = argv[\mbox{\hyperlink{constants_8hpp_a660671264f8ea07781cd04446d83cbf6}{imagesFolderOffset}}], * outputFolder = argv[\mbox{\hyperlink{constants_8hpp_abbff93ab9bac10646d7ca187c30470ad}{outputFolderOffset}}];}
\DoxyCodeLine{00080     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} frameID = cameraManager-\/>\mbox{\hyperlink{class_real_sense_manager_aac01bf5b0fe977a03ff6ab9fa2bbf06f}{getFrameID}}(), currentImageID;}
\DoxyCodeLine{00081     Json::Value currentJSON;}
\DoxyCodeLine{00082     }
\DoxyCodeLine{00083     \textcolor{comment}{// Do this until we don't iterate on user\_nFrame frame}}
\DoxyCodeLine{00084     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} nFrame = 0; nFrame < user\_nFrame; nFrame++) \{}
\DoxyCodeLine{00085         std::stringstream inputJsonFilePath, skeletonImagePath, colorImagePath, distanceImagePath, colorizedDepthImagePath, skeletonOnlyImagePath, outputJsonFilePath;}
\DoxyCodeLine{00086         currentImageID = frameID -\/ user\_nFrame + nFrame;}
\DoxyCodeLine{00087         \textcolor{comment}{// Internal Approach OpenPose}}
\DoxyCodeLine{00088 \textcolor{comment}{//        inputJsonFilePath << outputFolder << "{}op/"{} << nFrame << "{}\_keypoints.json"{};}}
\DoxyCodeLine{00089         \textcolor{comment}{// External Approach OpenPose}}
\DoxyCodeLine{00090         inputJsonFilePath << outputFolder << \textcolor{stringliteral}{"{}op/"{}} << currentImageID << \textcolor{stringliteral}{"{}\_Color\_keypoints.json"{}};}
\DoxyCodeLine{00091         }
\DoxyCodeLine{00092         \textcolor{comment}{// Try to load OpenPose's output JSON file}}
\DoxyCodeLine{00093         \textcolor{keywordflow}{if} (outputManagerJSON-\/>\mbox{\hyperlink{class_output_manager_j_s_o_n_ae664a1f8616d4876501710849c1c59d2}{loadJSON}}(inputJsonFilePath.str(), currentJSON)) \{}
\DoxyCodeLine{00094             Json::Value people = outputManagerJSON-\/>\mbox{\hyperlink{class_output_manager_j_s_o_n_ab8f239a05495e63d99ef7e783b566587}{getValueAt}}(\textcolor{stringliteral}{"{}people"{}}, currentJSON);}
\DoxyCodeLine{00095             colorImagePath << imagesFolder << \textcolor{stringliteral}{"{}rgb/"{}} << currentImageID << \textcolor{stringliteral}{"{}\_Color.png"{}};}
\DoxyCodeLine{00096             distanceImagePath << imagesFolder << \textcolor{stringliteral}{"{}d/"{}} << currentImageID << \textcolor{stringliteral}{"{}\_Distance.exr"{}};}
\DoxyCodeLine{00097             colorizedDepthImagePath << imagesFolder << \textcolor{stringliteral}{"{}depth/"{}} << currentImageID << \textcolor{stringliteral}{"{}\_Depth.png"{}};}
\DoxyCodeLine{00098             }
\DoxyCodeLine{00099             \textcolor{comment}{// Load images captured previously from camera}}
\DoxyCodeLine{00100             cv::Mat colorImage, colorizedDepthImage;}
\DoxyCodeLine{00101             imageManager-\/>\mbox{\hyperlink{class_image_manager_aee3ff89c8031117cac540670fb8c09fe}{loadImage}}(colorImagePath.str(), cv::IMREAD\_COLOR, colorImage);}
\DoxyCodeLine{00102             cv::Mat distanceImage = cv::Mat(colorImage.rows, colorImage.cols, CV\_32FC1);}
\DoxyCodeLine{00103             imageManager-\/>\mbox{\hyperlink{class_image_manager_aee3ff89c8031117cac540670fb8c09fe}{loadImage}}(distanceImagePath.str(), cv::IMREAD\_ANYCOLOR | cv::IMREAD\_ANYDEPTH, distanceImage);}
\DoxyCodeLine{00104             imageManager-\/>\mbox{\hyperlink{class_image_manager_aee3ff89c8031117cac540670fb8c09fe}{loadImage}}(colorizedDepthImagePath.str(), cv::IMREAD\_COLOR, colorizedDepthImage);}
\DoxyCodeLine{00105             imageManager-\/>\mbox{\hyperlink{class_image_manager_a0d1b8bf95333d94fe2842937e5ef818c}{showImages}}( \{ colorImage, colorizedDepthImage \}, \{ \textcolor{stringliteral}{"{}Frame No Skeleton"{}}, \textcolor{stringliteral}{"{}Frame Colorized Depth"{}} \} );}
\DoxyCodeLine{00106             cv::Mat skeletonOnlyImage = cv::Mat::zeros(colorImage.rows, colorImage.cols, colorImage.type());}
\DoxyCodeLine{00107             }
\DoxyCodeLine{00108             \textcolor{comment}{// Produce a JSON output file for each person present in this frame}}
\DoxyCodeLine{00109             outputManagerJSON-\/>\mbox{\hyperlink{class_output_manager_j_s_o_n_ae7e940b50eb318e883b0844bece04dc7}{createJSON}}(people, colorImage, distanceImage, skeletonOnlyImage, currentImageID, outputFolder);}
\DoxyCodeLine{00110             }
\DoxyCodeLine{00111             \textcolor{comment}{// Show images and save them}}
\DoxyCodeLine{00112             imageManager-\/>\mbox{\hyperlink{class_image_manager_a0d1b8bf95333d94fe2842937e5ef818c}{showImages}}( \{ skeletonOnlyImage, colorImage \}, \{ \textcolor{stringliteral}{"{}Frame Skeleton Background Cut"{}}, \textcolor{stringliteral}{"{}Frame Skeleton"{}} \} );}
\DoxyCodeLine{00113             skeletonOnlyImagePath << imagesFolder << \textcolor{stringliteral}{"{}sk/"{}} << currentImageID << \textcolor{stringliteral}{"{}\_sk.png"{}};}
\DoxyCodeLine{00114             skeletonImagePath << imagesFolder << \textcolor{stringliteral}{"{}skeleton/"{}} << currentImageID << \textcolor{stringliteral}{"{}\_Skeleton.png"{}};}
\DoxyCodeLine{00115             imageManager-\/>\mbox{\hyperlink{class_image_manager_aeae03d66a4a45347804c4c927fa55b42}{saveImages}}( \{ colorImage, skeletonOnlyImage \}, \{ skeletonImagePath.str(), skeletonOnlyImagePath.str() \} );}
\DoxyCodeLine{00116             imageManager-\/>\mbox{\hyperlink{class_image_manager_a6b448d93b315c6479590fa5afd278674}{releaseImages}}( \{ colorImage, distanceImage, colorizedDepthImage, skeletonOnlyImage \} );}
\DoxyCodeLine{00117         \}}
\DoxyCodeLine{00118     \}}
\DoxyCodeLine{00119 \}}

\end{DoxyCode}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
Managers/\mbox{\hyperlink{_open_c_v___manager_8hpp}{Open\+CV\+\_\+\+Manager.\+hpp}}\item 
Managers/\mbox{\hyperlink{_open_c_v___manager_8cpp}{Open\+CV\+\_\+\+Manager.\+cpp}}\end{DoxyCompactItemize}
